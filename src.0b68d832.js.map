{"version":3,"sources":["index.ts"],"names":[],"mappings":";AAuEA,aAvEA,IAAA,EAAA,WAKE,SAAA,IACM,IAAA,EAAe,SAAS,eAAe,SAC3C,EAAiB,WAAW,GA8DhC,OA3DS,EAAA,UAAA,OAAP,SAAc,GACN,IAAA,EAAS,EAAM,OACjB,GAAC,EAAiB,YAAY,GAA9B,CAIA,IAAA,EAAe,EACnB,EAAiB,WAAW,KAGvB,EAAA,WAAP,SAAkB,GACZ,IAAA,EAAQ,EAAiB,0BAA0B,GAEnD,EAAiB,SAAS,eAAe,YACzC,GAAC,EAAD,CAIA,IAAA,EAAa,EAAiB,WAAW,GACzC,GAAC,EAAD,CAIA,IAIA,GAFJ,EAAa,EAAW,QAFR,YACA,cAGc,QAAQ,KAClC,EAAW,EAAW,OAAO,EAAG,GAChC,EAAW,EAAW,OAAO,EAAe,GAEhD,EAAe,UAAY,EAAW,6BAA+B,KAGhE,EAAA,WAAP,SAAkB,GACZ,GAAA,MAAM,GACD,MAAA,4BAIL,IACA,GADkB,EAAQ,EAAiB,YACA,EAAiB,oBAC5D,OAAA,EAAyB,EAAiB,oBAErC,4BAGE,IAAI,KAAK,GACR,eAGP,EAAA,YAAP,SAAmB,GACV,MAAkB,SAAlB,EAAO,SAAmC,SAAb,EAAO,IAGtC,EAAA,0BAAP,SAAiC,GAC3B,IAAA,EAAW,EAAa,MACrB,OAAA,OAAO,IAlET,EAAA,WAAqB,YACrB,EAAA,oBAA8B,IAC9B,EAAA,oBAA8B,OAkEvC,EArEA,GAuEA,OAAO,OAAS,WACV,IAAA,EAAU,IAAI,EAClB,SAAS,iBAAiB,QAAS,EAAQ","file":"src.0b68d832.js","sourceRoot":"../src","sourcesContent":["class TickInputHandler {\n  static epochTicks: number = 621355968000000000;\n  static ticksPerMillisecond: number = 10000;\n  static maxDateMilliseconds: number = 8640000000000000; // http://ecma-international.org/ecma-262/5.1/#sec-15.9.1.1\n\n  constructor() {\n    var inputElement = document.getElementById(\"ticks\") as HTMLInputElement;\n    TickInputHandler.showResult(inputElement);\n  }\n\n  public doWork(event: KeyboardEvent) {\n    const target = event.target as HTMLElement;\n    if (!TickInputHandler.isTickInput(target)) {\n      return;\n    }\n\n    var inputElement = target as HTMLInputElement;\n    TickInputHandler.showResult(inputElement);\n  }\n\n  static showResult(inputElement: HTMLInputElement) {\n    var value = TickInputHandler.getTickInputValueAsNumber(inputElement);\n\n    var dateTimeOutput = document.getElementById(\"datetime\");\n    if (!dateTimeOutput) {\n      return;\n    }\n\n    var dateString = TickInputHandler.parseTicks(value);\n    if (!dateString) {\n      return;\n    }\n\n    var goodParts = /([0-9]+)/g;\n    var wrapParts = \"<b>$1</b>\";\n    dateString = dateString.replace(goodParts, wrapParts);\n\n    var firstTIndext = dateString.indexOf(\"T\");\n    var datePart = dateString.substr(0, firstTIndext);\n    var timePart = dateString.substr(firstTIndext + 1);\n\n    dateTimeOutput.innerHTML = datePart + \"<span class='pad'>T</span>\" + timePart;\n  }\n\n  static parseTicks(ticks: number) {\n    if (isNaN(ticks)) {\n      return \"____-__-__T__:__:__.____Z\";\n    }\n\n    // convert the ticks into something javascript understands\n    var ticksSinceEpoch = ticks - TickInputHandler.epochTicks;\n    var millisecondsSinceEpoch = ticksSinceEpoch / TickInputHandler.ticksPerMillisecond;\n    if (millisecondsSinceEpoch > TickInputHandler.maxDateMilliseconds) {\n      //      +035210-09-17T07:18:31.111Z\n      return \"9999-99-99T99:99:99:9999Z\";\n    }\n    // output the result in something the human understands\n    var date = new Date(millisecondsSinceEpoch);\n    return date.toISOString();\n  }\n\n  static isTickInput(target: HTMLElement) {\n    return target.tagName == \"INPUT\" && target.id == \"ticks\";\n  }\n\n  static getTickInputValueAsNumber(inputElement: HTMLInputElement) {\n    var valueStr = inputElement.value;\n    return Number(valueStr);\n  }\n}\n\nwindow.onload = () => {\n  var handler = new TickInputHandler();\n  document.addEventListener(\"keyup\", handler.doWork);\n};\n"]}